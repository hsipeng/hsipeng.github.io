{"version":3,"sources":["webpack:///path---posts-welcome-to-webpack-4-00f1c0c5cf4f9f0f256c.js","webpack:///./.cache/json/posts-welcome-to-webpack-4.json"],"names":["webpackJsonp","392","module","exports","data","site","siteMetadata","title","subtitle","copyright","author","name","twitter","disqusShortname","url","markdownRemark","id","html","fields","tagSlugs","frontmatter","tags","date","description","pathContext","slug"],"mappings":"AAAAA,cAAc,iBAERC,IACA,SAAUC,EAAQC,GCHxBD,EAAAC,SAAkBC,MAAQC,MAAQC,cAAgBC,MAAA,yBAAAC,SAAA,sCAAAC,UAAA,8BAAAC,QAAsIC,KAAA,UAAAC,QAAA,WAAqCC,gBAAA,SAAAC,IAAA,sBAAuDC,gBAAmBC,GAAA,4IAAAC,KAAA,y7gBAAsjiBC,QAAmQC,UAAA,gEAA2EC,aAAgBb,MAAA,uBAAAc,MAAA,0CAAAC,KAAA,2BAAAC,YAAA,gEAAgMC,aAAgBC,KAAA","file":"path---posts-welcome-to-webpack-4-00f1c0c5cf4f9f0f256c.js","sourcesContent":["webpackJsonp([64714241743482],{\n\n/***/ 392:\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\"data\":{\"site\":{\"siteMetadata\":{\"title\":\"ALEX P . X - lirawx.me\",\"subtitle\":\"Life is short, let it be undefined.\",\"copyright\":\"© 2018 All rights reserved.\",\"author\":{\"name\":\"Lirawx.\",\"twitter\":\"lira_wx\"},\"disqusShortname\":\"lirawx\",\"url\":\"https://lirawx.me\"}},\"markdownRemark\":{\"id\":\"/home/travis/build/lirawx/lirawx.github.io/src/pages/articles/2018-09-01---Introduce-webpack4/index.md absPath of file >>> MarkdownRemark\",\"html\":\"<ul>\\n<li>install webpack</li>\\n</ul>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-bash\\\"><code class=\\\"language-bash\\\"><span class=\\\"token function\\\">yarn</span> global <span class=\\\"token function\\\">add</span> webpack webpack-cli\\n\\n<span class=\\\"token comment\\\"># or </span>\\n<span class=\\\"token function\\\">yarn</span> <span class=\\\"token function\\\">add</span> webpack webpack-cli -D\\n\\n<span class=\\\"token comment\\\"># install in node_modules</span></code></pre>\\n      </div>\\n<p>if you use npm ,just type <code class=\\\"language-text\\\">npm i -g webpack webpack-cli</code> to install global, or <code class=\\\"language-text\\\">npm i webpack webpack-cli --save-dev</code> to install in locally.</p>\\n<ul>\\n<li>Folder Structure</li>\\n</ul>\\n<p>my folder is like this.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-bash\\\"><code class=\\\"language-bash\\\">├── package.json\\n├── server.js\\n├── src\\n│   ├── index.js\\n│   ├── math.js\\n│   ├── print.js\\n│   └── styles.css\\n├── webpack.common.js\\n├── webpack.dev.js\\n├── webpack.json\\n├── webpack.prod.js\\n├── yarn-error.log\\n└── yarn.lock\\n\\n<span class=\\\"token number\\\">1</span> directory, <span class=\\\"token number\\\">12</span> files</code></pre>\\n      </div>\\n<ul>\\n<li>Without config file</li>\\n</ul>\\n<p>we can use some base command to build packages.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-bash\\\"><code class=\\\"language-bash\\\">webpack <span class=\\\"token operator\\\">&lt;</span>Entry<span class=\\\"token operator\\\">></span> -o <span class=\\\"token operator\\\">&lt;</span>output<span class=\\\"token operator\\\">></span>\\n\\n<span class=\\\"token comment\\\"># such as build index.js => bundle.js</span>\\nwebpack src/index.js -o dist/bundle.js </code></pre>\\n      </div>\\n<p>This is basic command line use webpack, Also you can enjoy yourself if you want to use webpack like this.</p>\\n<ul>\\n<li>Basic config</li>\\n</ul>\\n<p>A sample config file will be like this,no plugins, no modules, just bundle to dist.</p>\\n<p>webpack.config.js</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-javascript\\\"><code class=\\\"language-javascript\\\"><span class=\\\"token keyword\\\">var</span> path <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">require</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"path\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\nmodule<span class=\\\"token punctuation\\\">.</span>exports <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">{</span>\\n  mode<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">\\\"development\\\"</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token comment\\\">// environment</span>\\n  entry<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">\\\"./src/index.js\\\"</span><span class=\\\"token punctuation\\\">,</span><span class=\\\"token comment\\\">// entry point</span>\\n  output<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span> <span class=\\\"token comment\\\">// bundle config</span>\\n    path<span class=\\\"token punctuation\\\">:</span> path<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">resolve</span><span class=\\\"token punctuation\\\">(</span>__dirname<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token string\\\">\\\"dist\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">,</span>\\n    filename<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">\\\"bundle.js\\\"</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">;</span></code></pre>\\n      </div>\\n<p>this config is worked. However we need run <code class=\\\"language-text\\\">webpack --config webpack.config.js</code> every time to build files.\\nSo we need webpack to auto reload new files , so we can run <code class=\\\"language-text\\\">webpack --config webpack.config.js -w</code> to watch files changes and auto rebuild to dist files.\\nBut mostly we want to serve this files ,so we can see changes from chrome immediately.Ok, you can see the next title is about <code class=\\\"language-text\\\">webpack-dev-server</code></p>\\n<ul>\\n<li>HMR with webpack-dev-server</li>\\n</ul>\\n<p>three points to change webpack.config.js</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-javascript\\\"><code class=\\\"language-javascript\\\"><span class=\\\"token keyword\\\">var</span> path <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">require</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"path\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">const</span> HtmlWebpackPlugin <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">require</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"html-webpack-plugin\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">const</span> CleanWebpackPlugin <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">require</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"clean-webpack-plugin\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">const</span> webpack <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">require</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"webpack\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\nmodule<span class=\\\"token punctuation\\\">.</span>exports <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">{</span>\\n  mode<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">\\\"development\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n  entry<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span>\\n    app<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">\\\"./src/index.js\\\"</span>\\n    <span class=\\\"token comment\\\">//print: \\\"./src/print.js\\\"</span>\\n  <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n  devtool<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">\\\"inline-source-map\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n  devServer<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span>\\n    contentBase<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">\\\"./dist\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n    hot<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token boolean\\\">true</span> <span class=\\\"token comment\\\">// HMR enabled</span>\\n  <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n  output<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span>\\n    path<span class=\\\"token punctuation\\\">:</span> path<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">resolve</span><span class=\\\"token punctuation\\\">(</span>__dirname<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token string\\\">\\\"dist\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">,</span>\\n    filename<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">\\\"[name].bundle.js\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n    publicPath<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">\\\"/\\\"</span>\\n  <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n  module<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span>\\n    rules<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">[</span>\\n      <span class=\\\"token punctuation\\\">{</span>\\n        test<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token regex\\\">/\\\\.css$/</span><span class=\\\"token punctuation\\\">,</span>\\n        use<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">\\\"style-loader\\\"</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token string\\\">\\\"css-loader\\\"</span><span class=\\\"token punctuation\\\">]</span>\\n      <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token punctuation\\\">{</span>\\n        test<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token regex\\\">/\\\\.(png|svg|jpg|gif)$/</span><span class=\\\"token punctuation\\\">,</span>\\n        use<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">\\\"file-loader\\\"</span><span class=\\\"token punctuation\\\">]</span>\\n      <span class=\\\"token punctuation\\\">}</span>\\n    <span class=\\\"token punctuation\\\">]</span>\\n  <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n  plugins<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">[</span>\\n    <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">CleanWebpackPlugin</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">\\\"dist\\\"</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">HtmlWebpackPlugin</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span>\\n      title<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">\\\"Hot module replacement\\\"</span>\\n    <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">,</span>\\n<span class=\\\"token comment\\\">// HMR requied plugins</span>\\n    <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">webpack<span class=\\\"token punctuation\\\">.</span>NamedModulesPlugin</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">webpack<span class=\\\"token punctuation\\\">.</span>HotModuleReplacementPlugin</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n  <span class=\\\"token punctuation\\\">]</span>\\n<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">;</span></code></pre>\\n      </div>\\n<p>As this far, I also want to say this config is enough, But HMR need to be support by loader or you can write yourself.I will show you how it works as below.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-javascript\\\"><code class=\\\"language-javascript\\\"><span class=\\\"token keyword\\\">import</span> _ <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">\\\"lodash\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> printMe <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">\\\"./print\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token string\\\">\\\"./styles.css\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token keyword\\\">function</span> <span class=\\\"token function\\\">component</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">var</span> element <span class=\\\"token operator\\\">=</span> document<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">createElement</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"div\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token keyword\\\">var</span> btn <span class=\\\"token operator\\\">=</span> document<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">createElement</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"button\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  element<span class=\\\"token punctuation\\\">.</span>innerHTML <span class=\\\"token operator\\\">=</span> _<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">join</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">\\\"Hello\\\"</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token string\\\">\\\"webpack\\\"</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token string\\\">\\\" \\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  btn<span class=\\\"token punctuation\\\">.</span>innerHTML <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\"Click me and check the console1!\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n  btn<span class=\\\"token punctuation\\\">.</span>onclick <span class=\\\"token operator\\\">=</span> printMe<span class=\\\"token punctuation\\\">;</span>\\n\\n  element<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">appendChild</span><span class=\\\"token punctuation\\\">(</span>btn<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token keyword\\\">return</span> element<span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token keyword\\\">let</span> element <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">component</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\ndocument<span class=\\\"token punctuation\\\">.</span>body<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">appendChild</span><span class=\\\"token punctuation\\\">(</span>element<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token comment\\\">// Begin HMR support .</span>\\n<span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>module<span class=\\\"token punctuation\\\">.</span>hot<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  module<span class=\\\"token punctuation\\\">.</span>hot<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">accept</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"./print.js\\\"</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token keyword\\\">function</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"Accepting the updated printMe module!\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token comment\\\">// move old element</span>\\n    document<span class=\\\"token punctuation\\\">.</span>body<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">removeChild</span><span class=\\\"token punctuation\\\">(</span>element<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    element <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">component</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token comment\\\">// bind a new element.</span>\\n    document<span class=\\\"token punctuation\\\">.</span>body<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">appendChild</span><span class=\\\"token punctuation\\\">(</span>element<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span></code></pre>\\n      </div>\\n<p>So here is the HMR steps.</p>\\n<ul>\\n<li>remove old bind elements</li>\\n<li>create new elements</li>\\n<li>bind new elements.</li>\\n</ul>\\n<p>As you see , I import style.css, because <code class=\\\"language-text\\\">style-loader</code>\\nsupport HMR, you can change <code class=\\\"language-text\\\">body</code> color </p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-css\\\"><code class=\\\"language-css\\\"><span class=\\\"token selector\\\">body</span><span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token property\\\">background</span><span class=\\\"token punctuation\\\">:</span> red<span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span></code></pre>\\n      </div>\\n<p>and <code class=\\\"language-text\\\">webpack-dev-server</code> will reload , and body will be red after <code class=\\\"language-text\\\">webpack-dev-server</code> refresh window.And so be it, see you next time.</p>\",\"fields\":{\"tagSlugs\":[\"/tags/webpack/\",\"/tags/javascript/\",\"/tags/web-development/\"]},\"frontmatter\":{\"title\":\"Welcome to Webpack 4\",\"tags\":[\"webpack\",\"Javascript\",\"Web Development\"],\"date\":\"2018-09-08T22:40:32.169Z\",\"description\":\"An Essay on how to config webpack4, just for the beginner.\"}}},\"pathContext\":{\"slug\":\"/posts/welcome-to-webpack4/\"}}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// path---posts-welcome-to-webpack-4-00f1c0c5cf4f9f0f256c.js","module.exports = {\"data\":{\"site\":{\"siteMetadata\":{\"title\":\"ALEX P . X - lirawx.me\",\"subtitle\":\"Life is short, let it be undefined.\",\"copyright\":\"© 2018 All rights reserved.\",\"author\":{\"name\":\"Lirawx.\",\"twitter\":\"lira_wx\"},\"disqusShortname\":\"lirawx\",\"url\":\"https://lirawx.me\"}},\"markdownRemark\":{\"id\":\"/home/travis/build/lirawx/lirawx.github.io/src/pages/articles/2018-09-01---Introduce-webpack4/index.md absPath of file >>> MarkdownRemark\",\"html\":\"<ul>\\n<li>install webpack</li>\\n</ul>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-bash\\\"><code class=\\\"language-bash\\\"><span class=\\\"token function\\\">yarn</span> global <span class=\\\"token function\\\">add</span> webpack webpack-cli\\n\\n<span class=\\\"token comment\\\"># or </span>\\n<span class=\\\"token function\\\">yarn</span> <span class=\\\"token function\\\">add</span> webpack webpack-cli -D\\n\\n<span class=\\\"token comment\\\"># install in node_modules</span></code></pre>\\n      </div>\\n<p>if you use npm ,just type <code class=\\\"language-text\\\">npm i -g webpack webpack-cli</code> to install global, or <code class=\\\"language-text\\\">npm i webpack webpack-cli --save-dev</code> to install in locally.</p>\\n<ul>\\n<li>Folder Structure</li>\\n</ul>\\n<p>my folder is like this.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-bash\\\"><code class=\\\"language-bash\\\">├── package.json\\n├── server.js\\n├── src\\n│   ├── index.js\\n│   ├── math.js\\n│   ├── print.js\\n│   └── styles.css\\n├── webpack.common.js\\n├── webpack.dev.js\\n├── webpack.json\\n├── webpack.prod.js\\n├── yarn-error.log\\n└── yarn.lock\\n\\n<span class=\\\"token number\\\">1</span> directory, <span class=\\\"token number\\\">12</span> files</code></pre>\\n      </div>\\n<ul>\\n<li>Without config file</li>\\n</ul>\\n<p>we can use some base command to build packages.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-bash\\\"><code class=\\\"language-bash\\\">webpack <span class=\\\"token operator\\\">&lt;</span>Entry<span class=\\\"token operator\\\">></span> -o <span class=\\\"token operator\\\">&lt;</span>output<span class=\\\"token operator\\\">></span>\\n\\n<span class=\\\"token comment\\\"># such as build index.js => bundle.js</span>\\nwebpack src/index.js -o dist/bundle.js </code></pre>\\n      </div>\\n<p>This is basic command line use webpack, Also you can enjoy yourself if you want to use webpack like this.</p>\\n<ul>\\n<li>Basic config</li>\\n</ul>\\n<p>A sample config file will be like this,no plugins, no modules, just bundle to dist.</p>\\n<p>webpack.config.js</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-javascript\\\"><code class=\\\"language-javascript\\\"><span class=\\\"token keyword\\\">var</span> path <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">require</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"path\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\nmodule<span class=\\\"token punctuation\\\">.</span>exports <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">{</span>\\n  mode<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">\\\"development\\\"</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token comment\\\">// environment</span>\\n  entry<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">\\\"./src/index.js\\\"</span><span class=\\\"token punctuation\\\">,</span><span class=\\\"token comment\\\">// entry point</span>\\n  output<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span> <span class=\\\"token comment\\\">// bundle config</span>\\n    path<span class=\\\"token punctuation\\\">:</span> path<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">resolve</span><span class=\\\"token punctuation\\\">(</span>__dirname<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token string\\\">\\\"dist\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">,</span>\\n    filename<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">\\\"bundle.js\\\"</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">;</span></code></pre>\\n      </div>\\n<p>this config is worked. However we need run <code class=\\\"language-text\\\">webpack --config webpack.config.js</code> every time to build files.\\nSo we need webpack to auto reload new files , so we can run <code class=\\\"language-text\\\">webpack --config webpack.config.js -w</code> to watch files changes and auto rebuild to dist files.\\nBut mostly we want to serve this files ,so we can see changes from chrome immediately.Ok, you can see the next title is about <code class=\\\"language-text\\\">webpack-dev-server</code></p>\\n<ul>\\n<li>HMR with webpack-dev-server</li>\\n</ul>\\n<p>three points to change webpack.config.js</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-javascript\\\"><code class=\\\"language-javascript\\\"><span class=\\\"token keyword\\\">var</span> path <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">require</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"path\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">const</span> HtmlWebpackPlugin <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">require</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"html-webpack-plugin\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">const</span> CleanWebpackPlugin <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">require</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"clean-webpack-plugin\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">const</span> webpack <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">require</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"webpack\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\nmodule<span class=\\\"token punctuation\\\">.</span>exports <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">{</span>\\n  mode<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">\\\"development\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n  entry<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span>\\n    app<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">\\\"./src/index.js\\\"</span>\\n    <span class=\\\"token comment\\\">//print: \\\"./src/print.js\\\"</span>\\n  <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n  devtool<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">\\\"inline-source-map\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n  devServer<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span>\\n    contentBase<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">\\\"./dist\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n    hot<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token boolean\\\">true</span> <span class=\\\"token comment\\\">// HMR enabled</span>\\n  <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n  output<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span>\\n    path<span class=\\\"token punctuation\\\">:</span> path<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">resolve</span><span class=\\\"token punctuation\\\">(</span>__dirname<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token string\\\">\\\"dist\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">,</span>\\n    filename<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">\\\"[name].bundle.js\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n    publicPath<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">\\\"/\\\"</span>\\n  <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n  module<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span>\\n    rules<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">[</span>\\n      <span class=\\\"token punctuation\\\">{</span>\\n        test<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token regex\\\">/\\\\.css$/</span><span class=\\\"token punctuation\\\">,</span>\\n        use<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">\\\"style-loader\\\"</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token string\\\">\\\"css-loader\\\"</span><span class=\\\"token punctuation\\\">]</span>\\n      <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token punctuation\\\">{</span>\\n        test<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token regex\\\">/\\\\.(png|svg|jpg|gif)$/</span><span class=\\\"token punctuation\\\">,</span>\\n        use<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">\\\"file-loader\\\"</span><span class=\\\"token punctuation\\\">]</span>\\n      <span class=\\\"token punctuation\\\">}</span>\\n    <span class=\\\"token punctuation\\\">]</span>\\n  <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n  plugins<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">[</span>\\n    <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">CleanWebpackPlugin</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">\\\"dist\\\"</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">HtmlWebpackPlugin</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span>\\n      title<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">\\\"Hot module replacement\\\"</span>\\n    <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">,</span>\\n<span class=\\\"token comment\\\">// HMR requied plugins</span>\\n    <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">webpack<span class=\\\"token punctuation\\\">.</span>NamedModulesPlugin</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">webpack<span class=\\\"token punctuation\\\">.</span>HotModuleReplacementPlugin</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n  <span class=\\\"token punctuation\\\">]</span>\\n<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">;</span></code></pre>\\n      </div>\\n<p>As this far, I also want to say this config is enough, But HMR need to be support by loader or you can write yourself.I will show you how it works as below.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-javascript\\\"><code class=\\\"language-javascript\\\"><span class=\\\"token keyword\\\">import</span> _ <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">\\\"lodash\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> printMe <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">\\\"./print\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token string\\\">\\\"./styles.css\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token keyword\\\">function</span> <span class=\\\"token function\\\">component</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">var</span> element <span class=\\\"token operator\\\">=</span> document<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">createElement</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"div\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token keyword\\\">var</span> btn <span class=\\\"token operator\\\">=</span> document<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">createElement</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"button\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  element<span class=\\\"token punctuation\\\">.</span>innerHTML <span class=\\\"token operator\\\">=</span> _<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">join</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">\\\"Hello\\\"</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token string\\\">\\\"webpack\\\"</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token string\\\">\\\" \\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  btn<span class=\\\"token punctuation\\\">.</span>innerHTML <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\"Click me and check the console1!\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n  btn<span class=\\\"token punctuation\\\">.</span>onclick <span class=\\\"token operator\\\">=</span> printMe<span class=\\\"token punctuation\\\">;</span>\\n\\n  element<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">appendChild</span><span class=\\\"token punctuation\\\">(</span>btn<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token keyword\\\">return</span> element<span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token keyword\\\">let</span> element <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">component</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\ndocument<span class=\\\"token punctuation\\\">.</span>body<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">appendChild</span><span class=\\\"token punctuation\\\">(</span>element<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token comment\\\">// Begin HMR support .</span>\\n<span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>module<span class=\\\"token punctuation\\\">.</span>hot<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  module<span class=\\\"token punctuation\\\">.</span>hot<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">accept</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"./print.js\\\"</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token keyword\\\">function</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"Accepting the updated printMe module!\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token comment\\\">// move old element</span>\\n    document<span class=\\\"token punctuation\\\">.</span>body<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">removeChild</span><span class=\\\"token punctuation\\\">(</span>element<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    element <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">component</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token comment\\\">// bind a new element.</span>\\n    document<span class=\\\"token punctuation\\\">.</span>body<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">appendChild</span><span class=\\\"token punctuation\\\">(</span>element<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span></code></pre>\\n      </div>\\n<p>So here is the HMR steps.</p>\\n<ul>\\n<li>remove old bind elements</li>\\n<li>create new elements</li>\\n<li>bind new elements.</li>\\n</ul>\\n<p>As you see , I import style.css, because <code class=\\\"language-text\\\">style-loader</code>\\nsupport HMR, you can change <code class=\\\"language-text\\\">body</code> color </p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-css\\\"><code class=\\\"language-css\\\"><span class=\\\"token selector\\\">body</span><span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token property\\\">background</span><span class=\\\"token punctuation\\\">:</span> red<span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span></code></pre>\\n      </div>\\n<p>and <code class=\\\"language-text\\\">webpack-dev-server</code> will reload , and body will be red after <code class=\\\"language-text\\\">webpack-dev-server</code> refresh window.And so be it, see you next time.</p>\",\"fields\":{\"tagSlugs\":[\"/tags/webpack/\",\"/tags/javascript/\",\"/tags/web-development/\"]},\"frontmatter\":{\"title\":\"Welcome to Webpack 4\",\"tags\":[\"webpack\",\"Javascript\",\"Web Development\"],\"date\":\"2018-09-08T22:40:32.169Z\",\"description\":\"An Essay on how to config webpack4, just for the beginner.\"}}},\"pathContext\":{\"slug\":\"/posts/welcome-to-webpack4/\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/json-loader!./.cache/json/posts-welcome-to-webpack-4.json\n// module id = 392\n// module chunks = 64714241743482"],"sourceRoot":""}